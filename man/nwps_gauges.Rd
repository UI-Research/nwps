% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/nwps_gauges.R
\name{nwps_gauges}
\alias{nwps_gauges}
\title{List NWPS gauges}
\usage{
nwps_gauges(
  bbox = NULL,
  srid = c("EPSG_4326", "EPSG_3857", "SRID_UNSPECIFIED"),
  catfim = NULL
)
}
\arguments{
\item{bbox}{Bounding box for spatial filtering. Can be either:
\itemize{
\item A numeric vector of length 4: \code{c(xmin, ymin, xmax, ymax)}
\item An sf or sfc object (bounding box will be extracted automatically)
}

Coordinates should match the spatial reference system specified by \code{srid}.
Default is \code{NULL} (no spatial filter).}

\item{srid}{Character. Spatial reference system identifier. One of
\code{"EPSG_4326"} (WGS84, default), \code{"EPSG_3857"} (Web Mercator), or
\code{"SRID_UNSPECIFIED"}. Ignored when \code{bbox} is an sf object (CRS is
extracted automatically).}

\item{catfim}{Logical. If \code{TRUE}, filter to only gauges with CatFIM
(Categorical Flood Inundation Mapping) configuration. Default is \code{NULL}
(no filter).}
}
\value{
An sf object with point geometry and one row per gauge containing:
\describe{
\item{lid}{Location identifier (e.g., "ANAW1")}
\item{name}{Descriptive gauge name}
\item{latitude}{Latitude in decimal degrees}
\item{longitude}{Longitude in decimal degrees}
\item{state_abbreviation}{Two-letter state code}
\item{state_name}{Full state name}
\item{rfc_abbreviation}{River Forecast Center abbreviation}
\item{rfc_name}{River Forecast Center name}
\item{wfo_abbreviation}{Weather Forecast Office abbreviation}
\item{wfo_name}{Weather Forecast Office name}
\item{pedts_observed}{SHEF code for observed data}
\item{pedts_forecast}{SHEF code for forecast data}
\item{status_observed_primary}{Latest observed primary value}
\item{status_observed_primary_unit}{Unit for observed primary value}
\item{status_observed_secondary}{Latest observed secondary value}
\item{status_observed_secondary_unit}{Unit for observed secondary value}
\item{status_observed_flood_category}{Current flood category}
\item{status_observed_valid_time}{Timestamp of observation (POSIXct)}
\item{status_forecast_primary}{Latest forecast primary value}
\item{status_forecast_primary_unit}{Unit for forecast primary value}
\item{status_forecast_secondary}{Latest forecast secondary value}
\item{status_forecast_secondary_unit}{Unit for forecast secondary value}
\item{status_forecast_flood_category}{Forecast flood category}
\item{status_forecast_valid_time}{Timestamp of forecast (POSIXct)}
\item{geometry}{Point geometry (sfc_POINT)}
}
}
\description{
Retrieves a list of gauges from the National Water Prediction Service API,
optionally filtered by bounding box and CatFIM configuration.
}
\examples{
\dontrun{
# Get all gauges (may be slow)
all_gauges <- nwps_gauges()

# Get gauges within a bounding box (Washington DC area)
dc_gauges <- nwps_gauges(
  bbox = c(-77.5, 38.5, -76.5, 39.5),
  srid = "EPSG_4326"
)

# Get gauges using an sf object as bbox
library(sf)
area_of_interest <- st_as_sfc(st_bbox(c(xmin = -77.5, ymin = 38.5,
                                         xmax = -76.5, ymax = 39.5),
                                       crs = 4326))
dc_gauges <- nwps_gauges(bbox = area_of_interest)

# Get only gauges with CatFIM configuration
catfim_gauges <- nwps_gauges(catfim = TRUE)
}
}
