[{"path":[]},{"path":"https://ui-research.github.io/nwps/CLAUDE.html","id":"package-overview","dir":"","previous_headings":"","what":"Package Overview","title":"CLAUDE.md - nwps Package Development Guidelines","text":"Package Name: nwps Purpose: Provide R functions access endpoints National Water Prediction Service (NWPS) API (https://api.water.noaa.gov/nwps/v1/) NWPS API provides hydrological data including: - Gauge metadata, ratings, stage/flow observations/forecasts - NWM (National Water Model) reach metadata streamflow forecasts - Stage/flow products SHEF (Standard Hydrologic Exchange Format) codes","code":""},{"path":[]},{"path":"https://ui-research.github.io/nwps/CLAUDE.html","id":"file-structure","dir":"","previous_headings":"","what":"File Structure","title":"CLAUDE.md - nwps Package Development Guidelines","text":"","code":"nwps/ ├── DESCRIPTION ├── NAMESPACE ├── LICENSE ├── README.md ├── CLAUDE.md ├── R/ │   ├── nwps_gauges.R │   ├── nwps_gauge.R │   ├── nwps_gauge_ratings.R │   ├── nwps_gauge_stageflow.R │   ├── nwps_reach.R │   ├── nwps_reach_streamflow.R │   ├── nwps_product_stageflow.R │   ├── nwps_monitor.R │   ├── utils.R │   └── nwps-package.R ├── man/ ├── tests/ │   ├── testthat.R │   └── testthat/ │       ├── test-nwps_gauges.R │       ├── test-nwps_gauge.R │       ├── test-nwps_gauge_ratings.R │       ├── test-nwps_gauge_stageflow.R │       ├── test-nwps_reach.R │       ├── test-nwps_reach_streamflow.R │       ├── test-nwps_product_stageflow.R │       └── test-nwps_monitor.R └── vignettes/     └── nwps-intro.Rmd"},{"path":[]},{"path":"https://ui-research.github.io/nwps/CLAUDE.html","id":"general-r-style","dir":"","previous_headings":"Code Conventions","what":"General R Style","title":"CLAUDE.md - nwps Package Development Guidelines","text":"Follow tidyverse style guidelines (https://style.tidyverse.org/) Use snake_case function variable names Use |> (base R pipe) everywhere Prefix exported functions nwps_ place closing parentheses brackets new lines","code":""},{"path":"https://ui-research.github.io/nwps/CLAUDE.html","id":"variable-naming","dir":"","previous_headings":"Code Conventions","what":"Variable Naming","title":"CLAUDE.md - nwps Package Development Guidelines","text":"overwrite existing objects; create numbered versions transformation needed Use descriptive names: gauge_metadata gm, response_content rc","code":""},{"path":"https://ui-research.github.io/nwps/CLAUDE.html","id":"function-design","dir":"","previous_headings":"Code Conventions","what":"Function Design","title":"CLAUDE.md - nwps Package Development Guidelines","text":".R file contains one primary exported function Helper functions used within file stay file Helper functions used across multiple files go utils.R exported functions must roxygen2 documentation","code":""},{"path":"https://ui-research.github.io/nwps/CLAUDE.html","id":"dependencies","dir":"","previous_headings":"Code Conventions","what":"Dependencies","title":"CLAUDE.md - nwps Package Development Guidelines","text":"package minimize dependencies. Required packages: - httr2: HTTP requests (modern replacement httr) - jsonlite: JSON parsing - tibble: returning tidy data frames - cli: user-friendly messages errors - rlang: tidy evaluation error handling - dplyr: data manipulation easy understand - tidyr: data restructuring - stringr: consistent interface working strings","code":""},{"path":"https://ui-research.github.io/nwps/CLAUDE.html","id":"suggested-packages-in-suggests-not-imports","dir":"","previous_headings":"Code Conventions","what":"Suggested packages (in Suggests, not Imports):","title":"CLAUDE.md - nwps Package Development Guidelines","text":"sf: converting spatial data sf objects testthat: testing","code":""},{"path":[]},{"path":"https://ui-research.github.io/nwps/CLAUDE.html","id":"base-url","dir":"","previous_headings":"API Request Handling","what":"Base URL","title":"CLAUDE.md - nwps Package Development Guidelines","text":"","code":"NWPS_BASE_URL <- \"https://api.water.noaa.gov/nwps/v1\""},{"path":"https://ui-research.github.io/nwps/CLAUDE.html","id":"request-pattern","dir":"","previous_headings":"API Request Handling","what":"Request Pattern","title":"CLAUDE.md - nwps Package Development Guidelines","text":"API functions use consistent internal helper utils.R:","code":"nwps_request <- function(endpoint, query = list()) {  # Build request, handle errors, parse JSON, return tibble }"},{"path":"https://ui-research.github.io/nwps/CLAUDE.html","id":"error-handling","dir":"","previous_headings":"API Request Handling","what":"Error Handling","title":"CLAUDE.md - nwps Package Development Guidelines","text":"Use httr2’s built-retry error handling Provide informative error messages using cli 404: Invalid gauge/reach identifier 400: Invalid parameters 500: Server errors (suggest retry)","code":""},{"path":"https://ui-research.github.io/nwps/CLAUDE.html","id":"response-processing","dir":"","previous_headings":"API Request Handling","what":"Response Processing","title":"CLAUDE.md - nwps Package Development Guidelines","text":"Always return tibbles, data frames lists Flatten nested JSON structures sensible Convert timestamps POSIXct Keep original column names API (snake_case conversion optional)","code":""},{"path":"https://ui-research.github.io/nwps/CLAUDE.html","id":"function-documentation-standards","dir":"","previous_headings":"","what":"Function Documentation Standards","title":"CLAUDE.md - nwps Package Development Guidelines","text":"Every exported function must include:","code":"#' @title Short title #' @description Longer description of what the function does #' @param param_name Description of parameter #' @return Description of return value (always a tibble) #' @export #' @examples #' \\dontrun{ #' # Example usage #' }"},{"path":[]},{"path":"https://ui-research.github.io/nwps/CLAUDE.html","id":"identifier-parameters","dir":"","previous_headings":"Parameter Conventions","what":"Identifier Parameters","title":"CLAUDE.md - nwps Package Development Guidelines","text":"identifier: Accepts either LID (e.g., “ANAW1”) USGS ID (e.g., “13334300”) reach_id: NWM reach identifier (integer stored character)","code":""},{"path":"https://ui-research.github.io/nwps/CLAUDE.html","id":"bounding-box-parameters","dir":"","previous_headings":"Parameter Conventions","what":"Bounding Box Parameters","title":"CLAUDE.md - nwps Package Development Guidelines","text":"nwps_gauges(), use single bbox parameter:","code":"nwps_gauges(bbox = c(xmin, ymin, xmax, ymax), srid = \"EPSG_4326\")"},{"path":"https://ui-research.github.io/nwps/CLAUDE.html","id":"enum-parameters","dir":"","previous_headings":"Parameter Conventions","what":"Enum Parameters","title":"CLAUDE.md - nwps Package Development Guidelines","text":"Use match.arg() parameters fixed options: - srid: “EPSG_4326” (default), “EPSG_3857” - product: “observed”, “forecast”, NULL - series: “analysis_assimilation”, “short_range”, “medium_range”, “long_range”, “medium_range_blend” - sort: “ASC”, “DESC”","code":""},{"path":[]},{"path":"https://ui-research.github.io/nwps/CLAUDE.html","id":"test-file-structure","dir":"","previous_headings":"Testing Guidelines","what":"Test File Structure","title":"CLAUDE.md - nwps Package Development Guidelines","text":"One test file per exported function Use httptest2 webmockr mocking API responses Successful requests valid parameters Parameter validation Error handling invalid identifiers Edge cases (empty responses, missing fields)","code":""},{"path":"https://ui-research.github.io/nwps/CLAUDE.html","id":"test-naming","dir":"","previous_headings":"Testing Guidelines","what":"Test Naming","title":"CLAUDE.md - nwps Package Development Guidelines","text":"","code":"test_that(\"nwps_gauge returns tibble for valid LID\", { ... }) test_that(\"nwps_gauge errors for invalid identifier\", { ... })"},{"path":"https://ui-research.github.io/nwps/CLAUDE.html","id":"user-messages","dir":"","previous_headings":"","what":"User Messages","title":"CLAUDE.md - nwps Package Development Guidelines","text":"Use cli::cli_inform() informational messages Use cli::cli_warn() warnings Use cli::cli_abort() errors Significant methodological assumptions Partial data returns API deprecation notices print routine progress messages","code":""},{"path":"https://ui-research.github.io/nwps/CLAUDE.html","id":"example-function-template","dir":"","previous_headings":"","what":"Example Function Template","title":"CLAUDE.md - nwps Package Development Guidelines","text":"","code":"#' Get gauge metadata #' #' Retrieves metadata for a single NWPS gauge by its identifier. #' #' @param identifier Character. Gauge LID (e.g., \"ANAW1\") or USGS ID (e.g., \"13334300\"). #' #' @return A tibble with gauge metadata including location, flood categories, #'   and associated identifiers. #' #' @export #' #' @examples #' \\dontrun{ #' nwps_gauge(\"ANAW1\") #' nwps_gauge(\"13334300\") #' } nwps_gauge <- function(identifier) {   identifier <- as.character(identifier)   response <- nwps_request(    endpoint = paste0(\"/gauges/\", identifier)  )   response }"},{"path":"https://ui-research.github.io/nwps/CLAUDE.html","id":"version-control","dir":"","previous_headings":"","what":"Version Control","title":"CLAUDE.md - nwps Package Development Guidelines","text":"Use conventional commits (feat:, fix:, docs:, test:, refactor:) Create feature branches new endpoints code must pass R CMD check warnings notes merging","code":""},{"path":"https://ui-research.github.io/nwps/CLAUDE.html","id":"cran-submission-checklist","dir":"","previous_headings":"","what":"CRAN Submission Checklist","title":"CLAUDE.md - nwps Package Development Guidelines","text":"submitting CRAN: - [ ] examples run wrapped \\dontrun{} - [ ] Vignette builds without API calls (use pre-computed results) - [ ] hardcoded file paths - [ ] LICENSE file matches DESCRIPTION - [ ] URLs documentation valid - [ ] Package passes R CMD check multiple platforms","code":""},{"path":"https://ui-research.github.io/nwps/articles/nwps.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Getting started with nwps","text":"nwps package provides R functions access National Water Prediction Service (NWPS) API. NWPS API offers hydrological data including: Gauge metadata current status Stage flow observations forecasts Flood categories impact statements Stage--flow rating curves National Water Model (NWM) streamflow forecasts vignette demonstrates use package’s core functions.","code":""},{"path":[]},{"path":"https://ui-research.github.io/nwps/articles/nwps.html","id":"list-all-gauges-in-an-area","dir":"Articles","previous_headings":"Finding gauges","what":"List all gauges in an area","title":"Getting started with nwps","text":"Use nwps_gauges() retrieve gauges within bounding box. function returns sf object point geometries. can also filter gauges CatFIM (Categorical Flood Inundation Mapping) configuration:","code":"# Get gauges in the Washington DC area dc_gauges <- nwps_gauges(   bbox = c(-77.5, 38.5, -76.5, 39.5),   srid = \"EPSG_4326\" )  dc_gauges |>   select(lid, name, state_abbreviation, status_observed_flood_category) #> Simple feature collection with 189 features and 4 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: -77.4763 ymin: 38.54577 xmax: -76.53142 ymax: 39.48944 #> Geodetic CRS:  WGS 84 #> # A tibble: 189 × 5 #>    lid   name                          state_abbreviation status_observed_floo…¹ #>    <chr> <chr>                         <chr>              <chr>                  #>  1 ABPV2 Backlick Run at Armistead Bo… VA                 no_flooding            #>  2 ACRV2 Cameron Run at Alexandria     VA                 out_of_service         #>  3 AFRV2 Four Mile Run at Alexandria   VA                 no_flooding            #>  4 ALEV2 Four Mile Run above Highway … VA                 no_flooding            #>  5 ANAD2 Anacostia River at Washingto… DC                 out_of_service         #>  6 ANAV2 Accotink Creek near Annandale VA                 no_flooding            #>  7 APSV2 Unnamed Tributary at New Ale… VA                 no_flooding            #>  8 ATGV2 Unnamed Tributary above New … VA                 no_flooding            #>  9 AXTV2 Potomac River at Alexandria   VA                 no_flooding            #> 10 BBSV2 Buckhall Branch at Signal Hi… VA                 not_defined            #> # ℹ 179 more rows #> # ℹ abbreviated name: ¹​status_observed_flood_category #> # ℹ 1 more variable: geometry <POINT [°]> catfim_gauges <- nwps_gauges(   bbox = c(-77.5, 38.5, -76.5, 39.5),   catfim = TRUE ) #> No gauges found matching the specified criteria.  nrow(catfim_gauges) #> [1] 0"},{"path":[]},{"path":"https://ui-research.github.io/nwps/articles/nwps.html","id":"retrieve-gauge-metadata","dir":"Articles","previous_headings":"Getting gauge details","what":"Retrieve gauge metadata","title":"Getting started with nwps","text":"Use nwps_gauge() get detailed metadata specific gauge LID USGS ID. function returns list multiple components.","code":"gauge <- nwps_gauge(\"PTTP1\")  # Basic metadata (as sf object) gauge$metadata #> Simple feature collection with 1 feature and 12 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: -80.01083 ymin: 40.43944 xmax: -80.01083 ymax: 40.43944 #> Geodetic CRS:  WGS 84 #> # A tibble: 1 × 13 #>   lid   usgs_id  reach_id name   description latitude longitude time_zone county #> * <chr> <chr>    <chr>    <chr>  <chr>          <dbl>     <dbl> <chr>     <chr>  #> 1 PTTP1 03085152 3786893  Ohio … \"\"              40.4     -80.0 EST5EDT   Alleg… #> # ℹ 4 more variables: in_service <lgl>, in_service_message <chr>, #> #   forecast_reliability <chr>, geometry <POINT [°]>  # Organizational affiliations gauge$organizations #> # A tibble: 1 × 6 #>   rfc_abbreviation rfc_name         wfo_abbreviation wfo_name state_abbreviation #>   <chr>            <chr>            <chr>            <chr>    <chr>              #> 1 OHRFC            Ohio River Fore… PBZ              Moon To… PA                 #> # ℹ 1 more variable: state_name <chr>  # Flood category thresholds gauge$flood_categories #> # A tibble: 4 × 5 #>   category stage stage_units  flow flow_units #>   <chr>    <int> <chr>       <int> <chr>      #> 1 action      18 ft          -9999 cfs        #> 2 minor       22 ft          -9999 cfs        #> 3 moderate    25 ft          -9999 cfs        #> 4 major       28 ft          -9999 cfs"},{"path":"https://ui-research.github.io/nwps/articles/nwps.html","id":"view-flood-impact-statements","dir":"Articles","previous_headings":"Getting gauge details","what":"View flood impact statements","title":"Getting started with nwps","text":"Many gauges stage-based impact statements describing happens different water levels:","code":"gauge$flood_impacts #> # A tibble: 24 × 2 #>    stage statement                                                               #>    <dbl> <chr>                                                                   #>  1  46   Severe damage occurs in Pittsburgh with up to 15 feet of water in the … #>  2  40   PNC Park is flooded along Federal Street.                               #>  3  38   Water reaches the floor of Brunots Island Power Station.                #>  4  37   Water reaches the floor level of Rivers Casino.                         #>  5  36.6 Steam distribution lines in Pittsburgh are in jeopardy. Water reaches … #>  6  36   Serious flood damage occurs to about 500 businesses on the North Side … #>  7  35.8 Flood waters reach the historic levels of Hurricane Agnes on June 26, … #>  8  35   The river level reaches a critical stage for Acrisure Stadium and PNC … #>  9  32   Mckees Rocks is affected. Flooding occurs on Neville Island.            #> 10  31   Water reaches the railroad tracks at Station Square on the South Side.… #> # ℹ 14 more rows"},{"path":"https://ui-research.github.io/nwps/articles/nwps.html","id":"historical-flood-crests","dir":"Articles","previous_headings":"Getting gauge details","what":"Historical flood crests","title":"Getting started with nwps","text":"can also access historical recent flood crest records:","code":"gauge$flood_crests |>   arrange(desc(stage)) |>   head(5) #> # A tibble: 5 × 6 #>   type     occurred_time       stage  flow preliminary old_datum #>   <chr>    <dttm>              <dbl> <int> <chr>       <lgl>     #> 1 historic 1936-03-18 00:00:00  46       0 R           FALSE     #> 2 recent   1936-03-18 00:00:00  46       0 R           FALSE     #> 3 historic 1907-03-15 00:00:00  38.5     0 O           FALSE     #> 4 recent   1907-03-15 00:00:00  38.5     0 O           FALSE     #> 5 historic 1942-12-31 00:00:00  36.6     0 O           FALSE"},{"path":[]},{"path":"https://ui-research.github.io/nwps/articles/nwps.html","id":"get-observed-and-forecast-data","dir":"Articles","previous_headings":"Stage and flow time series","what":"Get observed and forecast data","title":"Getting started with nwps","text":"Use nwps_gauge_stageflow() retrieve stage flow time series. default, returns observed forecast data.","code":"stageflow <- nwps_gauge_stageflow(\"PTTP1\")  stageflow |>   group_by(product) |>   summarize(     n_obs = n(),     min_time = min(valid_time),     max_time = max(valid_time),     .groups = \"drop\"   ) #> # A tibble: 2 × 4 #>   product  n_obs min_time            max_time            #>   <chr>    <int> <dttm>              <dttm>              #> 1 forecast    20 2026-01-04 18:00:00 2026-01-09 12:00:00 #> 2 observed  8594 2025-12-05 20:15:00 2026-01-04 19:30:00"},{"path":"https://ui-research.github.io/nwps/articles/nwps.html","id":"visualize-the-hydrograph","dir":"Articles","previous_headings":"Stage and flow time series","what":"Visualize the hydrograph","title":"Getting started with nwps","text":"Plot observed forecast stages alongside flood thresholds:","code":"flood_cats <- gauge$flood_categories  ggplot(stageflow, aes(x = valid_time, y = primary, color = product)) +   geom_line() +   geom_hline(     data = flood_cats,     aes(yintercept = stage, linetype = category),     color = \"gray40\"   ) +   scale_linetype_manual(     values = c(\"action\" = \"dotted\", \"minor\" = \"dashed\",                \"moderate\" = \"longdash\", \"major\" = \"solid\")   ) +   labs(     title = gauge$metadata$name,     x = NULL,     y = paste0(\"Stage (\", stageflow$primary_units[1], \")\"),     color = \"Product\",     linetype = \"Flood Category\"   ) #> Warning: The `scale_name` argument of `discrete_scale()` is deprecated as of ggplot2 #> 3.5.0. #> This warning is displayed once every 8 hours. #> Call `lifecycle::last_lifecycle_warnings()` to see where this warning was #> generated."},{"path":"https://ui-research.github.io/nwps/articles/nwps.html","id":"get-only-observed-or-forecast-data","dir":"Articles","previous_headings":"Stage and flow time series","what":"Get only observed or forecast data","title":"Getting started with nwps","text":"can request just one product type:","code":"observed_only <- nwps_gauge_stageflow(\"PTTP1\", product = \"observed\") forecast_only <- nwps_gauge_stageflow(\"PTTP1\", product = \"forecast\")  nrow(observed_only) #> [1] 8596 nrow(forecast_only) #> [1] 20"},{"path":[]},{"path":"https://ui-research.github.io/nwps/articles/nwps.html","id":"get-the-rating-curve","dir":"Articles","previous_headings":"Stage-to-flow ratings","what":"Get the rating curve","title":"Getting started with nwps","text":"Use nwps_gauge_ratings() retrieve stage--flow rating curve gauge:","code":"ratings <- nwps_gauge_ratings(\"PTTP1\")  head(ratings) #> # A tibble: 6 × 4 #>   stage stage_units  flow flow_units #>   <dbl> <chr>       <int> <chr>      #> 1  16.3 ft              0 cfs        #> 2  16.4 ft            500 cfs        #> 3  16.5 ft           2000 cfs        #> 4  16.6 ft          40009 cfs        #> 5  16.7 ft          70016 cfs        #> 6  16.8 ft          95021 cfs"},{"path":"https://ui-research.github.io/nwps/articles/nwps.html","id":"visualize-the-rating-curve","dir":"Articles","previous_headings":"Stage-to-flow ratings","what":"Visualize the rating curve","title":"Getting started with nwps","text":"","code":"ggplot(ratings, aes(x = stage, y = flow)) +   geom_line() +   labs(     title = \"Stage-to-Flow Rating Curve\",     subtitle = gauge$metadata$name,     x = paste0(\"Stage (\", ratings$stage_units[1], \")\"),     y = paste0(\"Flow (\", ratings$flow_units[1], \")\")   )"},{"path":"https://ui-research.github.io/nwps/articles/nwps.html","id":"national-water-model-data","dir":"Articles","previous_headings":"","what":"National Water Model data","title":"Getting started with nwps","text":"NWPS API also provides access National Water Model (NWM) streamflow forecasts reach.","code":""},{"path":"https://ui-research.github.io/nwps/articles/nwps.html","id":"get-reach-metadata","dir":"Articles","previous_headings":"National Water Model data","what":"Get reach metadata","title":"Getting started with nwps","text":"Use nwps_reach() retrieve metadata NWM reach: upstream downstream tibbles show reach network routing:","code":"reach <- nwps_reach(\"22338099\")  reach$metadata #> Simple feature collection with 1 feature and 4 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: -76.9508 ymin: 38.9149 xmax: -76.9508 ymax: 38.9149 #> Geodetic CRS:  WGS 84 #> # A tibble: 1 × 5 #>   reach_id name            latitude longitude           geometry #> * <chr>    <chr>              <dbl>     <dbl>        <POINT [°]> #> 1 22338099 Beaverdam Creek     38.9     -77.0 (-76.9508 38.9149) reach$streamflow_products #> [1] \"analysis_assimilation\" \"short_range\"           \"long_range\"            #> [4] \"medium_range_blend\"    \"medium_range\" head(reach$upstream) #> # A tibble: 2 × 2 #>   reach_id stream_order #>   <chr>    <chr>        #> 1 22338093 4            #> 2 22338095 4 head(reach$downstream) #> # A tibble: 1 × 2 #>   reach_id stream_order #>   <chr>    <chr>        #> 1 22338123 4"},{"path":"https://ui-research.github.io/nwps/articles/nwps.html","id":"get-nwm-streamflow-forecasts","dir":"Articles","previous_headings":"National Water Model data","what":"Get NWM streamflow forecasts","title":"Getting started with nwps","text":"Use nwps_reach_streamflow() retrieve streamflow forecasts. Different forecast series available: \"analysis_assimilation\": Analysis assimilation (recent past) \"short_range\": Short-range forecast (0-18 hours) \"medium_range\": Medium-range ensemble forecast (0-10 days) \"medium_range_blend\": Blended medium-range forecast \"long_range\": Long-range ensemble forecast (0-30 days)","code":"short_range <- nwps_reach_streamflow(\"22338099\", series = \"short_range\")  short_range |>   head(10) #> # A tibble: 10 × 7 #>    reach_id series    member reference_time      valid_time           flow units #>    <chr>    <chr>     <chr>  <dttm>              <dttm>              <dbl> <chr> #>  1 22338099 short_ra… series 2026-01-04 18:00:00 2026-01-04 19:00:00  57.2 ft³/s #>  2 22338099 short_ra… series 2026-01-04 18:00:00 2026-01-04 20:00:00  60.0 ft³/s #>  3 22338099 short_ra… series 2026-01-04 18:00:00 2026-01-04 21:00:00  65.0 ft³/s #>  4 22338099 short_ra… series 2026-01-04 18:00:00 2026-01-04 22:00:00  69.9 ft³/s #>  5 22338099 short_ra… series 2026-01-04 18:00:00 2026-01-04 23:00:00  74.2 ft³/s #>  6 22338099 short_ra… series 2026-01-04 18:00:00 2026-01-05 00:00:00  77.3 ft³/s #>  7 22338099 short_ra… series 2026-01-04 18:00:00 2026-01-05 01:00:00  79.5 ft³/s #>  8 22338099 short_ra… series 2026-01-04 18:00:00 2026-01-05 02:00:00  80.5 ft³/s #>  9 22338099 short_ra… series 2026-01-04 18:00:00 2026-01-05 03:00:00  81.6 ft³/s #> 10 22338099 short_ra… series 2026-01-04 18:00:00 2026-01-05 04:00:00  82.3 ft³/s"},{"path":"https://ui-research.github.io/nwps/articles/nwps.html","id":"visualize-nwm-forecasts","dir":"Articles","previous_headings":"National Water Model data","what":"Visualize NWM forecasts","title":"Getting started with nwps","text":"","code":"ggplot(short_range, aes(x = valid_time, y = flow)) +   geom_line() +   labs(     title = \"NWM Short-Range Streamflow Forecast\",     subtitle = paste(\"Reach:\", reach$metadata$reach_id),     x = NULL,     y = paste0(\"Flow (\", short_range$units[1], \")\")   )"},{"path":"https://ui-research.github.io/nwps/articles/nwps.html","id":"ensemble-forecasts","dir":"Articles","previous_headings":"National Water Model data","what":"Ensemble forecasts","title":"Getting started with nwps","text":"medium long-range forecasts, multiple ensemble members available:","code":"medium_range <- nwps_reach_streamflow(\"22338099\", series = \"medium_range\")  medium_range |>   group_by(member) |>   summarize(n = n(), .groups = \"drop\") #> # A tibble: 7 × 2 #>   member      n #>   <chr>   <int> #> 1 mean      204 #> 2 member1   240 #> 3 member2   204 #> 4 member3   204 #> 5 member4   204 #> 6 member5   204 #> 7 member6   204"},{"path":[]},{"path":"https://ui-research.github.io/nwps/articles/nwps.html","id":"access-data-by-pedts-code","dir":"Articles","previous_headings":"SHEF product codes","what":"Access data by PEDTS code","title":"Getting started with nwps","text":"granular control, use nwps_product_stageflow() request data specific SHEF PEDTS (Physical Element Data Type Source) code:","code":"# Get the PEDTS codes for a gauge gauge$pedts #> # A tibble: 1 × 2 #>   observed forecast #>   <chr>    <chr>    #> 1 HGIR2    HGIFF  # Request observed data using PEDTS code observed_pedts <- nwps_product_stageflow(\"PTTP1\", \"HGIRG\")  head(observed_pedts) #> # A tibble: 6 × 12 #>   pedts issued_time         wfo   time_zone valid_time          #>   <chr> <dttm>              <chr> <chr>     <dttm>              #> 1 HGIRG 2026-01-04 19:45:00 PBZ   EST5EDT   2025-12-05 20:05:00 #> 2 HGIRG 2026-01-04 19:45:00 PBZ   EST5EDT   2025-12-05 20:10:00 #> 3 HGIRG 2026-01-04 19:45:00 PBZ   EST5EDT   2025-12-05 20:15:00 #> 4 HGIRG 2026-01-04 19:45:00 PBZ   EST5EDT   2025-12-05 20:20:00 #> 5 HGIRG 2026-01-04 19:45:00 PBZ   EST5EDT   2025-12-05 20:25:00 #> 6 HGIRG 2026-01-04 19:45:00 PBZ   EST5EDT   2025-12-05 20:30:00 #> # ℹ 7 more variables: generated_time <dttm>, primary <dbl>, primary_name <chr>, #> #   primary_units <chr>, secondary <dbl>, secondary_name <chr>, #> #   secondary_units <chr>"},{"path":[]},{"path":"https://ui-research.github.io/nwps/articles/nwps.html","id":"check-api-status","dir":"Articles","previous_headings":"System monitoring","what":"Check API status","title":"Getting started with nwps","text":"Use nwps_monitor() check system health data status: monitoring endpoint also provides information data processing:","code":"status <- nwps_monitor()  # Gauges by observed flood category status$gauge_observed #> # A tibble: 9 × 3 #>   type     category        count #>   <chr>    <chr>           <int> #> 1 observed action             28 #> 2 observed low_threshold      98 #> 3 observed major               2 #> 4 observed minor               3 #> 5 observed moderate            2 #> 6 observed no_flooding      6757 #> 7 observed not_defined      3948 #> 8 observed obs_not_current   897 #> 9 observed out_of_service    801  # Gauges by forecast flood category status$gauge_forecast #> # A tibble: 8 × 3 #>   type     category         count #>   <chr>    <chr>            <int> #> 1 forecast action              39 #> 2 forecast fcst_not_current  9609 #> 3 forecast low_threshold        8 #> 4 forecast minor                6 #> 5 forecast moderate             1 #> 6 forecast no_flooding       1708 #> 7 forecast not_defined        364 #> 8 forecast out_of_service     801 # HML product processing stats status$hml_product_counts #> # A tibble: 102 × 2 #>    time_period count #>    <chr>       <int> #>  1 t-10day     47073 #>  2 t-10hour     1961 #>  3 t-11day     47112 #>  4 t-11hour     1963 #>  5 t-12day     47115 #>  6 t-12hour     1962 #>  7 t-13day     47117 #>  8 t-13hour     1960 #>  9 t-14day     47032 #> 10 t-14hour     1959 #> # ℹ 92 more rows  # Long Range Outlook status status$lro #> # A tibble: 1 × 2 #>   current_lros current_interval #>          <int> <chr>            #> 1          353 JFM"},{"path":"https://ui-research.github.io/nwps/articles/nwps.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Getting started with nwps","text":"nwps package provides complete interface National Water Prediction Service API: information NWPS API, visit API documentation.","code":""},{"path":"https://ui-research.github.io/nwps/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Curran-Groome. Author, maintainer.","code":""},{"path":"https://ui-research.github.io/nwps/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Curran-Groome W (2026). nwps: Access National Water Prediction Service API. R package version 0.0.0.9000, https://ui-research.github.io/nwps/.","code":"@Manual{,   title = {nwps: Access the National Water Prediction Service API},   author = {Will Curran-Groome},   year = {2026},   note = {R package version 0.0.0.9000},   url = {https://ui-research.github.io/nwps/}, }"},{"path":"https://ui-research.github.io/nwps/index.html","id":"nwps","dir":"","previous_headings":"","what":"Access the National Water Prediction Service API","title":"Access the National Water Prediction Service API","text":"nwps provides R functions access National Water Prediction Service (NWPS) API. NWPS API offers hydrological data including gauge metadata, stage flow observations forecasts, flood categories, National Water Model streamflow predictions.","code":""},{"path":"https://ui-research.github.io/nwps/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Access the National Water Prediction Service API","text":"can install development version nwps GitHub :","code":"# install.packages(\"pak\") pak::pak(\"UI-Research/nwps\")"},{"path":"https://ui-research.github.io/nwps/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Access the National Water Prediction Service API","text":"Retrieve observed forecast stage data gauge, visualize alongside flood thresholds:","code":"library(nwps) library(ggplot2) library(urbnthemes) library(dplyr)  set_urbn_defaults(style = \"print\")  # Get gauge metadata including flood categories gauge <- nwps_gauge(\"PTTP1\")  gauge_name <- gauge$metadata$name flood_cats <- gauge$flood_categories  # Get observed and forecast stage/flow data stageflow <- nwps_gauge_stageflow(\"PTTP1\")  # Plot observed and forecast stages with flood thresholds ggplot(stageflow, aes(x = valid_time, y = primary, color = product)) +   geom_line() +   geom_hline(     data = flood_cats,     aes(yintercept = stage, linetype = category),     color = \"gray40\"   ) +   scale_linetype_manual(values = c(\"action\" = \"dotted\", \"minor\" = \"dashed\",                                    \"moderate\" = \"longdash\", \"major\" = \"solid\")) +   labs(     title = gauge_name,     x = NULL,     y = paste0(\"Stage (\", stageflow$primary_units[1], \")\"),     color = \"Product\",     linetype = \"Flood Category\"   )"},{"path":"https://ui-research.github.io/nwps/index.html","id":"learn-more","dir":"","previous_headings":"","what":"Learn more","title":"Access the National Water Prediction Service API","text":"See vignette(\"nwps\") examples detailed usage package functions.","code":""},{"path":"https://ui-research.github.io/nwps/reference/nwps_gauge.html","id":null,"dir":"Reference","previous_headings":"","what":"Get gauge metadata — nwps_gauge","title":"Get gauge metadata — nwps_gauge","text":"Retrieves detailed metadata single NWPS gauge identifier.","code":""},{"path":"https://ui-research.github.io/nwps/reference/nwps_gauge.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get gauge metadata — nwps_gauge","text":"","code":"nwps_gauge(identifier)"},{"path":"https://ui-research.github.io/nwps/reference/nwps_gauge.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get gauge metadata — nwps_gauge","text":"identifier Character. Gauge LID (e.g., \"ANAD2\") USGS ID (e.g., \"01651750\").","code":""},{"path":"https://ui-research.github.io/nwps/reference/nwps_gauge.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get gauge metadata — nwps_gauge","text":"list containing gauge metadata following components: metadata sf object (point geometry) basic gauge information (lid, usgsId, reachId, name, description, latitude, longitude, timeZone, county) organizations tibble RFC, WFO, state information pedts tibble SHEF codes observed forecast data status tibble current observed forecast status flood_categories tibble flood stage/flow thresholds flood_crests tibble historic recent flood crests flood_impacts tibble stage-based impact statements low_waters tibble historic low water records datums tibble vertical horizontal datum information present, NULL otherwise images list URLs hydrograph images","code":""},{"path":"https://ui-research.github.io/nwps/reference/nwps_gauge.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get gauge metadata — nwps_gauge","text":"","code":"if (FALSE) { # \\dontrun{ gauge <- nwps_gauge(\"ANAD2\") gauge$metadata gauge$flood_categories } # }"},{"path":"https://ui-research.github.io/nwps/reference/nwps_gauge_ratings.html","id":null,"dir":"Reference","previous_headings":"","what":"Get gauge stage-to-flow ratings — nwps_gauge_ratings","title":"Get gauge stage-to-flow ratings — nwps_gauge_ratings","text":"Retrieves stage--flow rating curve data gauge. Rating curves define relationship water level (stage) discharge (flow).","code":""},{"path":"https://ui-research.github.io/nwps/reference/nwps_gauge_ratings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get gauge stage-to-flow ratings — nwps_gauge_ratings","text":"","code":"nwps_gauge_ratings(   identifier,   limit = 10000,   sort = c(\"ASC\", \"DESC\"),   only_tenths = FALSE )"},{"path":"https://ui-research.github.io/nwps/reference/nwps_gauge_ratings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get gauge stage-to-flow ratings — nwps_gauge_ratings","text":"identifier Character. Gauge LID (e.g., \"PTTP1\") USGS ID. limit Integer. Maximum number rating points return. Default 10000. sort Character. Sort order stage value. One \"ASC\" (ascending, default) \"DESC\" (descending). only_tenths Logical. TRUE, filter results include stage values tenths--foot increments. Default FALSE.","code":""},{"path":"https://ui-research.github.io/nwps/reference/nwps_gauge_ratings.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get gauge stage-to-flow ratings — nwps_gauge_ratings","text":"tibble columns: stage Water level value stage_units Units stage (typically \"ft\") flow Discharge value corresponding stage flow_units Units flow (typically \"cfs\")","code":""},{"path":"https://ui-research.github.io/nwps/reference/nwps_gauge_ratings.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get gauge stage-to-flow ratings — nwps_gauge_ratings","text":"","code":"if (FALSE) { # \\dontrun{ # Get rating curve for a gauge ratings <- nwps_gauge_ratings(\"PTTP1\")  # Get only tenths-of-foot increments, sorted descending ratings <- nwps_gauge_ratings(\"PTTP1\", only_tenths = TRUE, sort = \"DESC\") } # }"},{"path":"https://ui-research.github.io/nwps/reference/nwps_gauge_stageflow.html","id":null,"dir":"Reference","previous_headings":"","what":"Get gauge stage/flow data — nwps_gauge_stageflow","title":"Get gauge stage/flow data — nwps_gauge_stageflow","text":"Retrieves observed /forecast stage flow time series data gauge.","code":""},{"path":"https://ui-research.github.io/nwps/reference/nwps_gauge_stageflow.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get gauge stage/flow data — nwps_gauge_stageflow","text":"","code":"nwps_gauge_stageflow(identifier, product = NULL)"},{"path":"https://ui-research.github.io/nwps/reference/nwps_gauge_stageflow.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get gauge stage/flow data — nwps_gauge_stageflow","text":"identifier Character. Gauge LID (e.g., \"PTTP1\") USGS ID. product Character. product retrieve: \"observed\", \"forecast\", NULL (default) .","code":""},{"path":"https://ui-research.github.io/nwps/reference/nwps_gauge_stageflow.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get gauge stage/flow data — nwps_gauge_stageflow","text":"tibble columns: product Product type (\"observed\" \"forecast\") pedts SHEF Physical Element Data Type code issued_time data issued (POSIXct) wfo Weather Forecast Office abbreviation time_zone Time zone data valid_time Observation/forecast valid time (POSIXct) generated_time data point generated (POSIXct) primary Primary value (typically stage) primary_name Name primary measurement primary_units Units primary value secondary Secondary value (typically flow) secondary_name Name secondary measurement secondary_units Units secondary value","code":""},{"path":"https://ui-research.github.io/nwps/reference/nwps_gauge_stageflow.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get gauge stage/flow data — nwps_gauge_stageflow","text":"","code":"if (FALSE) { # \\dontrun{ # Get both observed and forecast data all_data <- nwps_gauge_stageflow(\"PTTP1\")  # Get only observed data observed <- nwps_gauge_stageflow(\"PTTP1\", product = \"observed\")  # Get only forecast data forecast <- nwps_gauge_stageflow(\"PTTP1\", product = \"forecast\") } # }"},{"path":"https://ui-research.github.io/nwps/reference/nwps_gauges.html","id":null,"dir":"Reference","previous_headings":"","what":"List NWPS gauges — nwps_gauges","title":"List NWPS gauges — nwps_gauges","text":"Retrieves list gauges National Water Prediction Service API, optionally filtered bounding box CatFIM configuration.","code":""},{"path":"https://ui-research.github.io/nwps/reference/nwps_gauges.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List NWPS gauges — nwps_gauges","text":"","code":"nwps_gauges(   bbox = NULL,   srid = c(\"EPSG_4326\", \"EPSG_3857\", \"SRID_UNSPECIFIED\"),   catfim = NULL )"},{"path":"https://ui-research.github.io/nwps/reference/nwps_gauges.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List NWPS gauges — nwps_gauges","text":"bbox Bounding box spatial filtering. Can either: numeric vector length 4: c(xmin, ymin, xmax, ymax) sf sfc object (bounding box extracted automatically) Coordinates match spatial reference system specified srid. Default NULL (spatial filter). srid Character. Spatial reference system identifier. One \"EPSG_4326\" (WGS84, default), \"EPSG_3857\" (Web Mercator), \"SRID_UNSPECIFIED\". Ignored bbox sf object (CRS extracted automatically). catfim Logical. TRUE, filter gauges CatFIM (Categorical Flood Inundation Mapping) configuration. Default NULL (filter).","code":""},{"path":"https://ui-research.github.io/nwps/reference/nwps_gauges.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List NWPS gauges — nwps_gauges","text":"sf object point geometry one row per gauge containing: lid Location identifier (e.g., \"ANAW1\") name Descriptive gauge name latitude Latitude decimal degrees longitude Longitude decimal degrees state_abbreviation Two-letter state code state_name Full state name rfc_abbreviation River Forecast Center abbreviation rfc_name River Forecast Center name wfo_abbreviation Weather Forecast Office abbreviation wfo_name Weather Forecast Office name pedts_observed SHEF code observed data pedts_forecast SHEF code forecast data status_observed_primary Latest observed primary value status_observed_primary_unit Unit observed primary value status_observed_secondary Latest observed secondary value status_observed_secondary_unit Unit observed secondary value status_observed_flood_category Current flood category status_observed_valid_time Timestamp observation (POSIXct) status_forecast_primary Latest forecast primary value status_forecast_primary_unit Unit forecast primary value status_forecast_secondary Latest forecast secondary value status_forecast_secondary_unit Unit forecast secondary value status_forecast_flood_category Forecast flood category status_forecast_valid_time Timestamp forecast (POSIXct) geometry Point geometry (sfc_POINT)","code":""},{"path":"https://ui-research.github.io/nwps/reference/nwps_gauges.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List NWPS gauges — nwps_gauges","text":"","code":"if (FALSE) { # \\dontrun{ # Get all gauges (may be slow) all_gauges <- nwps_gauges()  # Get gauges within a bounding box (Washington DC area) dc_gauges <- nwps_gauges(   bbox = c(-77.5, 38.5, -76.5, 39.5),   srid = \"EPSG_4326\" )  # Get gauges using an sf object as bbox library(sf) area_of_interest <- st_as_sfc(st_bbox(c(xmin = -77.5, ymin = 38.5,                                          xmax = -76.5, ymax = 39.5),                                        crs = 4326)) dc_gauges <- nwps_gauges(bbox = area_of_interest)  # Get only gauges with CatFIM configuration catfim_gauges <- nwps_gauges(catfim = TRUE) } # }"},{"path":"https://ui-research.github.io/nwps/reference/nwps_monitor.html","id":null,"dir":"Reference","previous_headings":"","what":"Get NWPS system monitoring status — nwps_monitor","title":"Get NWPS system monitoring status — nwps_monitor","text":"Retrieves system health data status information NWPS API, including gauge flood statistics, HML (Hydrologic Message Language) processing stats, LRO (Long Range Outlook) data status.","code":""},{"path":"https://ui-research.github.io/nwps/reference/nwps_monitor.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get NWPS system monitoring status — nwps_monitor","text":"","code":"nwps_monitor()"},{"path":"https://ui-research.github.io/nwps/reference/nwps_monitor.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get NWPS system monitoring status — nwps_monitor","text":"list containing: gauge_observed tibble counts gauges observed flood category gauge_forecast tibble counts gauges forecast flood category hml_job_queue Integer count jobs HML processing queue hml_product_counts tibble HML product counts time period hml_last_received tibble timestamps last HML receipt WFO lro tibble current LRO count interval","code":""},{"path":"https://ui-research.github.io/nwps/reference/nwps_monitor.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get NWPS system monitoring status — nwps_monitor","text":"","code":"if (FALSE) { # \\dontrun{ status <- nwps_monitor() status$gauge_observed status$hml_product_counts } # }"},{"path":"https://ui-research.github.io/nwps/reference/nwps_product_stageflow.html","id":null,"dir":"Reference","previous_headings":"","what":"Get stage/flow product by PEDTS code — nwps_product_stageflow","title":"Get stage/flow product by PEDTS code — nwps_product_stageflow","text":"Retrieves stage/flow time series data specific SHEF Physical Element Data Type Source (PEDTS) code. provides granular control specific data product retrieve compared nwps_gauge_stageflow().","code":""},{"path":"https://ui-research.github.io/nwps/reference/nwps_product_stageflow.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get stage/flow product by PEDTS code — nwps_product_stageflow","text":"","code":"nwps_product_stageflow(identifier, pedts)"},{"path":"https://ui-research.github.io/nwps/reference/nwps_product_stageflow.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get stage/flow product by PEDTS code — nwps_product_stageflow","text":"identifier Character. Gauge LID (e.g., \"PTTP1\") USGS ID. pedts Character. SHEF PEDTS code specifying data product (e.g., \"HGIRG\" observed stage, \"HGIFF\" forecast stage).","code":""},{"path":"https://ui-research.github.io/nwps/reference/nwps_product_stageflow.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get stage/flow product by PEDTS code — nwps_product_stageflow","text":"tibble columns: pedts SHEF Physical Element Data Type code issued_time data issued (POSIXct) wfo Weather Forecast Office abbreviation time_zone Time zone data valid_time Observation/forecast valid time (POSIXct) generated_time data point generated (POSIXct) primary Primary value (typically stage) primary_name Name primary measurement primary_units Units primary value secondary Secondary value (typically flow) secondary_name Name secondary measurement secondary_units Units secondary value","code":""},{"path":"https://ui-research.github.io/nwps/reference/nwps_product_stageflow.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get stage/flow product by PEDTS code — nwps_product_stageflow","text":"","code":"if (FALSE) { # \\dontrun{ # Get observed stage data observed <- nwps_product_stageflow(\"PTTP1\", \"HGIRG\")  # Get forecast stage data forecast <- nwps_product_stageflow(\"PTTP1\", \"HGIFF\") } # }"},{"path":"https://ui-research.github.io/nwps/reference/nwps_reach.html","id":null,"dir":"Reference","previous_headings":"","what":"Get NWM reach metadata — nwps_reach","title":"Get NWM reach metadata — nwps_reach","text":"Retrieves metadata National Water Model (NWM) reach, including location, available streamflow products, upstream/downstream routing.","code":""},{"path":"https://ui-research.github.io/nwps/reference/nwps_reach.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get NWM reach metadata — nwps_reach","text":"","code":"nwps_reach(reach_id)"},{"path":"https://ui-research.github.io/nwps/reference/nwps_reach.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get NWM reach metadata — nwps_reach","text":"reach_id Character numeric. NWM reach identifier.","code":""},{"path":"https://ui-research.github.io/nwps/reference/nwps_reach.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get NWM reach metadata — nwps_reach","text":"list containing: metadata sf object (point geometry) reach_id, name, latitude, longitude streamflow_products Character vector available streamflow forecast types (e.g., \"short_range\", \"medium_range\") upstream tibble upstream reaches reach_id stream_order downstream tibble downstream reaches reach_id stream_order","code":""},{"path":"https://ui-research.github.io/nwps/reference/nwps_reach.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get NWM reach metadata — nwps_reach","text":"","code":"if (FALSE) { # \\dontrun{ reach <- nwps_reach(\"22338099\") reach$metadata reach$upstream } # }"},{"path":"https://ui-research.github.io/nwps/reference/nwps_reach_streamflow.html","id":null,"dir":"Reference","previous_headings":"","what":"Get NWM reach streamflow forecasts — nwps_reach_streamflow","title":"Get NWM reach streamflow forecasts — nwps_reach_streamflow","text":"Retrieves National Water Model streamflow forecasts reach. Different forecast series available varying time horizons ensemble configurations.","code":""},{"path":"https://ui-research.github.io/nwps/reference/nwps_reach_streamflow.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get NWM reach streamflow forecasts — nwps_reach_streamflow","text":"","code":"nwps_reach_streamflow(   reach_id,   series = c(\"short_range\", \"analysis_assimilation\", \"medium_range\",     \"medium_range_blend\", \"long_range\") )"},{"path":"https://ui-research.github.io/nwps/reference/nwps_reach_streamflow.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get NWM reach streamflow forecasts — nwps_reach_streamflow","text":"reach_id Character numeric. NWM reach identifier. series Character. forecast series retrieve. One : \"analysis_assimilation\" Analysis assimilation (recent past) \"short_range\" Short-range forecast (0-18 hours) \"medium_range\" Medium-range ensemble forecast (0-10 days) \"medium_range_blend\" Blended medium-range forecast \"long_range\" Long-range ensemble forecast (0-30 days) Default \"short_range\".","code":""},{"path":"https://ui-research.github.io/nwps/reference/nwps_reach_streamflow.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get NWM reach streamflow forecasts — nwps_reach_streamflow","text":"tibble columns: reach_id NWM reach identifier series Forecast series name member Ensemble member name (e.g., \"series\", \"mean\", \"member1\") reference_time Forecast reference/initialization time (POSIXct) valid_time Forecast valid time (POSIXct) flow Streamflow value units Flow units (typically \"ft³/s\")","code":""},{"path":"https://ui-research.github.io/nwps/reference/nwps_reach_streamflow.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get NWM reach streamflow forecasts — nwps_reach_streamflow","text":"","code":"if (FALSE) { # \\dontrun{ # Get short-range forecast short <- nwps_reach_streamflow(\"22338099\", series = \"short_range\")  # Get medium-range ensemble forecast medium <- nwps_reach_streamflow(\"22338099\", series = \"medium_range\") } # }"}]
